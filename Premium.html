<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Binary Signals Dashboard</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        :root {
            --primary: #00e676;
            --secondary: #2979ff;
            --danger: #ff5252;
            --dark: #121212;
            --darker: #0a0a0a;
            --light: #f5f5f5;
            --gold: #ffd700;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--darker);
            color: var(--light);
            min-height: 100vh;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 250px 1fr;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            background: var(--dark);
            padding: 2rem 1rem;
            border-right: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo {
            color: var(--gold);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
            text-shadow: 0 0 10px rgba(255,215,0,0.3);
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--dark);
        }
        
        .nav-menu {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 0.5rem;
        }
        
        .nav-link {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--light);
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover, .nav-link.active {
            background: rgba(0,230,118,0.1);
            color: var(--primary);
        }
        
        /* Main Content */
        .main-content {
            padding: 2rem;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--dark);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .stat-card h3 {
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 0.5rem;
        }
        
        .stat-card .value {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .win-rate .value {
            color: var(--primary);
        }
        
        .loss-rate .value {
            color: var(--danger);
        }
        
        .profit .value {
            color: var(--gold);
        }
        
        /* Signal Generator */
        .signal-generator {
            background: var(--dark);
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .generator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .pair-selector {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .pair-option {
            padding: 0.5rem;
            background: rgba(0,0,0,0.3);
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        
        .pair-option:hover, .pair-option.selected {
            border-color: var(--primary);
            background: rgba(0,230,118,0.1);
        }
        
        .generate-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--dark);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            width: 100%;
            margin-top: 1rem;
        }
        
        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,230,118,0.3);
        }
        
        .generate-btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Active Signal */
        .active-signal {
            background: var(--dark);
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: none;
        }
        
        .signal-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        
        .signal-pair {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .signal-direction {
            font-size: 1.2rem;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 5px;
        }
        
        .direction-up {
            background: rgba(0,230,118,0.1);
            color: var(--primary);
        }
        
        .direction-down {
            background: rgba(255,82,82,0.1);
            color: var(--danger);
        }
        
        .signal-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .meta-item {
            background: rgba(0,0,0,0.3);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        .confidence-high {
            color: var(--primary);
        }
        
        .confidence-medium {
            color: var(--gold);
        }
        
        .countdown {
            font-size: 1.2rem;
            text-align: center;
            margin: 1rem 0;
        }
        
        .expiry-bar {
            height: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 5px;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        
        .expiry-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 100%;
            transition: width 1s linear;
        }
        
        /* History */
        .history {
            background: var(--dark);
            padding: 2rem;
            border-radius: 10px;
        }
        
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .history-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .history-table th, .history-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .history-table th {
            color: #aaa;
            font-weight: 400;
        }
        
        .status-win {
            color: var(--primary);
        }
        
        .status-loss {
            color: var(--danger);
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .stats-cards {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
            
            .stats-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="logo">AI BINARY PRO</div>
            
            <div class="user-profile">
                <div class="user-avatar">UP</div>
                <div>
                    <div class="username">Premium Member</div>
                    <div class="user-status" style="color: var(--primary); font-size: 0.8rem;">Active</div>
                </div>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item"><a href="#" class="nav-link active">Signal Generator</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Signal History</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Performance Analytics</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Account Settings</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Telegram Alerts</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Support</a></li>
            </ul>
        </aside>
        
        <main class="main-content">
            <div class="header">
                <h1>Premium Signal Generator</h1>
                <div class="account-info">
                    <span style="color: var(--gold);">License Active</span>
                </div>
            </div>
            
            <div class="stats-cards">
                <div class="stat-card win-rate">
                    <h3>Win Rate</h3>
                    <div class="value" id="winRateValue">82%</div>
                </div>
                <div class="stat-card loss-rate">
                    <h3>Loss Rate</h3>
                    <div class="value" id="lossRateValue">18%</div>
                </div>
                <div class="stat-card profit">
                    <h3>Today's Profit</h3>
                    <div class="value" id="todayProfitValue">+14.5%</div>
                </div>
                <div class="stat-card">
                    <h3>Signals Today</h3>
                    <div class="value" id="signalsTodayValue">27</div>
                </div>
            </div>
            
            <div class="signal-generator">
                <div class="generator-header">
                    <h2>Generate New Signal</h2>
                    <div class="auto-refresh">
                        <label>
                            <input type="checkbox" id="autoRefresh"> Auto Refresh
                        </label>
                    </div>
                </div>
                
                <h3>Select Asset Pair:</h3>
                <div class="pair-selector" id="pairSelector">
                    <!-- Pairs will be added by JavaScript -->
                </div>
                
                <button class="generate-btn" id="generateBtn">Generate Signal</button>
            </div>
            
            <div class="active-signal" id="activeSignal">
                <div class="signal-info">
                    <div class="signal-pair" id="signalPair">EUR/USD</div>
                    <div class="signal-direction direction-up" id="signalDirection">UP</div>
                </div>
                
                <div class="signal-meta">
                    <div class="meta-item">Expiry: <span id="signalExpiry">1 min</span></div>
                    <div class="meta-item confidence-high">Confidence: <span id="signalConfidence">85%</span></div>
                    <div class="meta-item">Type: <span id="signalType">Binary</span></div>
                </div>
                
                <div class="expiry-bar">
                    <div class="expiry-progress" id="expiryProgress"></div>
                </div>
                
                <div class="countdown" id="countdown">00:60</div>
                
                <div class="signal-result" style="text-align: center; display: none;" id="signalResult">
                    <h3 style="margin-bottom: 1rem;">Signal Result: <span id="resultText">WIN</span></h3>
                    <button class="generate-btn" id="newSignalBtn">Generate New Signal</button>
                </div>
            </div>
            
            <div class="history">
                <div class="history-header">
                    <h2>Recent Signals</h2>
                    <button style="background: none; border: none; color: var(--primary); cursor: pointer;">View All</button>
                </div>
                
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>Pair</th>
                            <th>Direction</th>
                            <th>Confidence</th>
                            <th>Result</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody id="historyTable">
                        <!-- History will be added by JavaScript -->
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <script>
        // Simplified pairs list (only Forex + BTC/USD + XAU/USD)
        const availablePairs = [
            // Forex Majors
            'EUR/USD', 'GBP/USD', 'USD/JPY', 'AUD/USD', 'USD/CAD', 'USD/CHF', 'NZD/USD',
            
            // Forex Minors
            'EUR/GBP', 'EUR/JPY', 'EUR/CHF', 'EUR/AUD', 'EUR/CAD', 'EUR/NZD',
            'GBP/JPY', 'GBP/CHF', 'GBP/AUD', 'GBP/CAD', 'GBP/NZD',
            'AUD/JPY', 'AUD/CAD', 'AUD/NZD', 'AUD/CHF',
            'CAD/JPY', 'CHF/JPY', 'NZD/JPY',
            
            // Crypto (only BTC)
            'BTC/USD',
            
            // Commodities (only Gold)
            'XAU/USD'
        ];

        // Daily stats that persist until midnight
        function getDailyStats() {
            const today = new Date().toDateString();
            let stats = JSON.parse(localStorage.getItem('dailyStats')) || {};
            
            if (!stats.date || stats.date !== today) {
                // Generate new daily stats
                stats = {
                    date: today,
                    winRate: 80 + Math.floor(Math.random() * 6), // 80-85%
                    lossRate: 20 - Math.floor(Math.random() * 6), // 15-20%
                    todayProfit: (Math.random() > 0.5 ? '+' : '-') + (Math.random() * 20).toFixed(1) + '%', // -20% to +20%
                    signalsToday: 100 + Math.floor(Math.random() * 631) // 100-730
                };
                localStorage.setItem('dailyStats', JSON.stringify(stats));
            }
            
            return stats;
        }

        // Initialize dashboard with daily stats
        function initDashboard() {
            const stats = getDailyStats();
            
            document.getElementById('winRateValue').textContent = stats.winRate + '%';
            document.getElementById('lossRateValue').textContent = stats.lossRate + '%';
            document.getElementById('todayProfitValue').textContent = stats.todayProfit;
            document.getElementById('signalsTodayValue').textContent = stats.signalsToday;
        }

        // Track signal expiration time even when tab is inactive
        let signalEndTime = 0;
        let countdownInterval;
        let isSignalActive = false;

        // Visibility change handler
        document.addEventListener('visibilitychange', function() {
            if (isSignalActive) {
                if (document.hidden) {
                    // Tab became inactive - store remaining time
                    clearInterval(countdownInterval);
                } else {
                    // Tab became active - resume countdown
                    updateCountdown();
                }
            }
        });

        // Modified countdown system
        function startCountdown() {
            signalEndTime = Date.now() + 60000; // 1 minute from now
            updateCountdown();
            countdownInterval = setInterval(updateCountdown, 1000);
        }

        function updateCountdown() {
            const now = Date.now();
            const remainingTime = Math.max(0, Math.floor((signalEndTime - now) / 1000));
            
            // Update display
            countdown.textContent = `00:${remainingTime < 10 ? '0' + remainingTime : remainingTime}`;
            expiryProgress.style.width = `${(remainingTime / 60) * 100}%`;
            
            if (remainingTime <= 0) {
                clearInterval(countdownInterval);
                showSignalResult(Math.random() < 0.8); // 80% win rate
            }
        }

        // Initialize pair selector
        const pairSelector = document.getElementById('pairSelector');
        availablePairs.forEach(pair => {
            const pairOption = document.createElement('div');
            pairOption.className = 'pair-option';
            pairOption.textContent = pair;
            pairOption.addEventListener('click', () => {
                document.querySelectorAll('.pair-option').forEach(opt => opt.classList.remove('selected'));
                pairOption.classList.add('selected');
                selectedPair = pair;
            });
            pairSelector.appendChild(pairOption);
        });

        // Set default selected pair
        let selectedPair = 'EUR/USD';
        document.querySelector('.pair-option').classList.add('selected');

        // Initialize dashboard
        initDashboard();

        // Signal generation variables
        const generateBtn = document.getElementById('generateBtn');
        const activeSignal = document.getElementById('activeSignal');
        const signalPair = document.getElementById('signalPair');
        const signalDirection = document.getElementById('signalDirection');
        const signalConfidence = document.getElementById('signalConfidence');
        const countdown = document.getElementById('countdown');
        const expiryProgress = document.getElementById('expiryProgress');
        const signalResult = document.getElementById('signalResult');
        const resultText = document.getElementById('resultText');
        const newSignalBtn = document.getElementById('newSignalBtn');
        const historyTable = document.getElementById('historyTable');
        
        generateBtn.addEventListener('click', function() {
            if (isSignalActive) return;
            
            // Generate random direction (80% win rate)
            const isWin = Math.random() < 0.8;
            const direction = Math.random() > 0.5 ? 'UP' : 'DOWN';
            const confidence = Math.floor(Math.random() * 16) + 75; // 75-90%
            
            // Update signal display
            signalPair.textContent = selectedPair;
            signalDirection.textContent = direction;
            signalDirection.className = `signal-direction direction-${direction.toLowerCase()}`;
            signalConfidence.textContent = `${confidence}%`;
            
            // Show active signal
            activeSignal.style.display = 'block';
            signalResult.style.display = 'none';
            
            // Start countdown
            startCountdown();
            
            isSignalActive = true;
            generateBtn.disabled = true;
        });

        newSignalBtn.addEventListener('click', function() {
            generateBtn.disabled = false;
            activeSignal.style.display = 'none';
            isSignalActive = false;
        });

        function showSignalResult(isWin) {
            signalResult.style.display = 'block';
            resultText.textContent = isWin ? 'WIN' : 'LOSS';
            resultText.style.color = isWin ? 'var(--primary)' : 'var(--danger)';
            
            // Add to history
            addToHistory(isWin);
        }

        function addToHistory(isWin) {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${selectedPair}</td>
                <td>${signalDirection.textContent}</td>
                <td>${signalConfidence.textContent}</td>
                <td class="status-${isWin ? 'win' : 'loss'}">${isWin ? 'WIN' : 'LOSS'}</td>
                <td>${timeString}</td>
            `;
            
            historyTable.insertBefore(row, historyTable.firstChild);
            
            // Limit history to 20 entries
            if (historyTable.children.length > 20) {
                historyTable.removeChild(historyTable.lastChild);
            }
        }

        // Initialize with some history
        function initializeHistory() {
            for (let i = 0; i < 5; i++) {
                const isWin = Math.random() < 0.8;
                const pair = availablePairs[Math.floor(Math.random() * availablePairs.length)];
                const direction = Math.random() > 0.5 ? 'UP' : 'DOWN';
                const confidence = Math.floor(Math.random() * 16) + 75;
                
                const now = new Date();
                now.setMinutes(now.getMinutes() - (i * 15));
                const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${pair}</td>
                    <td>${direction}</td>
                    <td>${confidence}%</td>
                    <td class="status-${isWin ? 'win' : 'loss'}">${isWin ? 'WIN' : 'LOSS'}</td>
                    <td>${timeString}</td>
                `;
                
                historyTable.appendChild(row);
            }
        }

        initializeHistory();
    </script>
</body>
</html>
